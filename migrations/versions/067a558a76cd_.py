"""empty message

Revision ID: 067a558a76cd
Revises: 
Create Date: 2019-08-27 11:34:39.723764

"""
from alembic import op
import sqlalchemy as sa


# revision identifiers, used by Alembic.
revision = '067a558a76cd'
down_revision = None
branch_labels = None
depends_on = None


def upgrade():
    # ### commands auto generated by Alembic - please adjust! ###
    op.create_table('election',
    sa.Column('electionId', sa.Integer(), autoincrement=True, nullable=False),
    sa.Column('electionName', sa.String(length=100), nullable=False),
    sa.PrimaryKeyConstraint('electionId')
    )
    op.create_table('file',
    sa.Column('fileId', sa.Integer(), autoincrement=True, nullable=False),
    sa.Column('fileType', sa.Enum('Any', 'Image', 'Pdf', name='filetypeenum'), nullable=False),
    sa.Column('fileName', sa.String(length=100), nullable=True),
    sa.Column('fileMimeType', sa.String(length=100), nullable=False),
    sa.Column('fileContentLength', sa.String(length=100), nullable=False),
    sa.Column('fileContentType', sa.String(length=100), nullable=False),
    sa.Column('fileCreatedBy', sa.Integer(), nullable=False),
    sa.Column('fileCreatedAt', sa.DateTime(), nullable=False),
    sa.PrimaryKeyConstraint('fileId')
    )
    op.create_table('folder',
    sa.Column('folderId', sa.Integer(), autoincrement=True, nullable=False),
    sa.PrimaryKeyConstraint('folderId')
    )
    op.create_table('history',
    sa.Column('historyId', sa.Integer(), autoincrement=True, nullable=False),
    sa.PrimaryKeyConstraint('historyId')
    )
    op.create_table('area',
    sa.Column('areaId', sa.Integer(), autoincrement=True, nullable=False),
    sa.Column('areaName', sa.String(length=100), nullable=False),
    sa.Column('areaType', sa.Enum('Country', 'Province', 'AdministrativeDistrict', 'ElectoralDistrict', 'PollingDivision', 'PollingDistrict', 'ElectionCommission', 'DistrictCentre', 'CountingCentre', 'PollingStation', 'Electorate', 'Office', name='areatypeenum'), nullable=False),
    sa.Column('electionId', sa.Integer(), nullable=False),
    sa.ForeignKeyConstraint(['electionId'], ['election.electionId'], ),
    sa.PrimaryKeyConstraint('areaId')
    )
    op.create_table('candidate',
    sa.Column('candidateId', sa.Integer(), autoincrement=True, nullable=False),
    sa.Column('candidateName', sa.String(length=100), nullable=False),
    sa.Column('candidateProfileImageFileId', sa.Integer(), nullable=True),
    sa.ForeignKeyConstraint(['candidateProfileImageFileId'], ['file.fileId'], ),
    sa.PrimaryKeyConstraint('candidateId')
    )
    op.create_table('folder_file',
    sa.Column('fileId', sa.Integer(), nullable=False),
    sa.Column('folderId', sa.Integer(), nullable=False),
    sa.ForeignKeyConstraint(['fileId'], ['file.fileId'], ),
    sa.ForeignKeyConstraint(['folderId'], ['folder.folderId'], ),
    sa.PrimaryKeyConstraint('fileId', 'folderId')
    )
    op.create_table('history_version',
    sa.Column('historyVersionId', sa.Integer(), autoincrement=True, nullable=False),
    sa.Column('historyId', sa.Integer(), nullable=True),
    sa.Column('createdBy', sa.Integer(), nullable=False),
    sa.Column('createdAt', sa.DateTime(), nullable=False),
    sa.ForeignKeyConstraint(['historyId'], ['history.historyId'], ),
    sa.PrimaryKeyConstraint('historyVersionId')
    )
    op.create_table('party',
    sa.Column('partyId', sa.Integer(), autoincrement=True, nullable=False),
    sa.Column('partyName', sa.String(length=100), nullable=False),
    sa.Column('partySymbol', sa.String(length=100), nullable=False),
    sa.Column('partySymbolFileId', sa.Integer(), nullable=True),
    sa.ForeignKeyConstraint(['partySymbolFileId'], ['file.fileId'], ),
    sa.PrimaryKeyConstraint('partyId')
    )
    op.create_table('proof',
    sa.Column('proofId', sa.Integer(), autoincrement=True, nullable=False),
    sa.Column('proofType', sa.Enum('Invoice', 'InvoiceStationaryItemReceive', 'ManuallyFilledTallySheets', 'ManuallyFilledReports', name='prooftypeenum'), nullable=False),
    sa.Column('createdAt', sa.DateTime(), nullable=True),
    sa.Column('scannedFilesFolderId', sa.Integer(), nullable=False),
    sa.Column('finished', sa.Boolean(), nullable=True),
    sa.ForeignKeyConstraint(['scannedFilesFolderId'], ['folder.folderId'], ),
    sa.PrimaryKeyConstraint('proofId')
    )
    op.create_table('stationaryItem',
    sa.Column('stationaryItemId', sa.Integer(), autoincrement=True, nullable=False),
    sa.Column('stationaryItemType', sa.Enum('Ballot', 'BallotBox', name='stationaryitemtypeenum'), nullable=False),
    sa.Column('electionId', sa.Integer(), nullable=False),
    sa.ForeignKeyConstraint(['electionId'], ['election.electionId'], ),
    sa.PrimaryKeyConstraint('stationaryItemId')
    )
    op.create_table('area_area',
    sa.Column('parentAreaId', sa.Integer(), nullable=False),
    sa.Column('childAreaId', sa.Integer(), nullable=False),
    sa.ForeignKeyConstraint(['childAreaId'], ['area.areaId'], ),
    sa.ForeignKeyConstraint(['parentAreaId'], ['area.areaId'], ),
    sa.PrimaryKeyConstraint('parentAreaId', 'childAreaId')
    )
    op.create_table('ballot',
    sa.Column('stationaryItemId', sa.Integer(), nullable=False),
    sa.Column('ballotId', sa.String(length=20), nullable=False),
    sa.Column('electionId', sa.Integer(), nullable=False),
    sa.ForeignKeyConstraint(['electionId'], ['election.electionId'], ),
    sa.ForeignKeyConstraint(['stationaryItemId'], ['stationaryItem.stationaryItemId'], ),
    sa.PrimaryKeyConstraint('stationaryItemId', 'ballotId'),
    sa.UniqueConstraint('ballotId', 'electionId', name='BallotPerElection')
    )
    op.create_table('ballotBox',
    sa.Column('stationaryItemId', sa.Integer(), nullable=False),
    sa.Column('ballotBoxId', sa.String(length=20), nullable=False),
    sa.Column('electionId', sa.Integer(), nullable=False),
    sa.ForeignKeyConstraint(['electionId'], ['election.electionId'], ),
    sa.ForeignKeyConstraint(['stationaryItemId'], ['stationaryItem.stationaryItemId'], ),
    sa.PrimaryKeyConstraint('stationaryItemId', 'ballotBoxId')
    )
    op.create_table('election_candidate',
    sa.Column('electionCandidateId', sa.Integer(), autoincrement=True, nullable=False),
    sa.Column('electionId', sa.Integer(), nullable=False),
    sa.Column('partyId', sa.Integer(), nullable=False),
    sa.Column('candidateId', sa.Integer(), nullable=False),
    sa.ForeignKeyConstraint(['candidateId'], ['candidate.candidateId'], ),
    sa.ForeignKeyConstraint(['electionId'], ['election.electionId'], ),
    sa.ForeignKeyConstraint(['partyId'], ['party.partyId'], ),
    sa.PrimaryKeyConstraint('electionCandidateId'),
    sa.UniqueConstraint('electionId', 'candidateId', name='CandidatePerElection')
    )
    op.create_table('election_party',
    sa.Column('electionPartyId', sa.Integer(), autoincrement=True, nullable=False),
    sa.Column('electionId', sa.Integer(), nullable=True),
    sa.Column('partyId', sa.Integer(), nullable=True),
    sa.ForeignKeyConstraint(['electionId'], ['election.electionId'], ),
    sa.ForeignKeyConstraint(['partyId'], ['party.partyId'], ),
    sa.PrimaryKeyConstraint('electionPartyId'),
    sa.UniqueConstraint('electionId', 'partyId', name='PartyPerElection')
    )
    op.create_table('invoice',
    sa.Column('invoiceId', sa.Integer(), autoincrement=True, nullable=False),
    sa.Column('electionId', sa.Integer(), nullable=False),
    sa.Column('issuingOfficeId', sa.Integer(), nullable=False),
    sa.Column('receivingOfficeId', sa.Integer(), nullable=False),
    sa.Column('confirmed', sa.Boolean(), nullable=False),
    sa.Column('issuedBy', sa.Integer(), nullable=False),
    sa.Column('issuedTo', sa.Integer(), nullable=False),
    sa.Column('issuedAt', sa.DateTime(), nullable=False),
    sa.Column('delete', sa.Boolean(), nullable=True),
    sa.ForeignKeyConstraint(['electionId'], ['election.electionId'], ),
    sa.ForeignKeyConstraint(['issuingOfficeId'], ['area.areaId'], ),
    sa.ForeignKeyConstraint(['receivingOfficeId'], ['area.areaId'], ),
    sa.PrimaryKeyConstraint('invoiceId')
    )
    op.create_table('submission',
    sa.Column('submissionId', sa.Integer(), autoincrement=True, nullable=False),
    sa.Column('submissionType', sa.Enum('TallySheet', 'Report', name='submissiontypeenum'), nullable=False),
    sa.Column('electionId', sa.Integer(), nullable=False),
    sa.Column('areaId', sa.Integer(), nullable=False),
    sa.Column('submissionProofId', sa.Integer(), nullable=False),
    sa.Column('submissionHistoryId', sa.Integer(), nullable=False),
    sa.ForeignKeyConstraint(['areaId'], ['area.areaId'], ),
    sa.ForeignKeyConstraint(['electionId'], ['election.electionId'], ),
    sa.ForeignKeyConstraint(['submissionHistoryId'], ['history.historyId'], ),
    sa.ForeignKeyConstraint(['submissionProofId'], ['proof.proofId'], ),
    sa.PrimaryKeyConstraint('submissionId')
    )
    op.create_table('invoice_stationaryItem',
    sa.Column('invoiceId', sa.Integer(), nullable=False),
    sa.Column('stationaryItemId', sa.Integer(), nullable=False),
    sa.Column('received', sa.Boolean(), nullable=False),
    sa.Column('receivedBy', sa.Integer(), nullable=True),
    sa.Column('receivedFrom', sa.Integer(), nullable=True),
    sa.Column('receivedAt', sa.DateTime(), nullable=True),
    sa.Column('receivedOfficeId', sa.Integer(), nullable=True),
    sa.Column('receivedProofId', sa.Integer(), nullable=True),
    sa.ForeignKeyConstraint(['invoiceId'], ['invoice.invoiceId'], ),
    sa.ForeignKeyConstraint(['receivedOfficeId'], ['area.areaId'], ),
    sa.ForeignKeyConstraint(['receivedProofId'], ['proof.proofId'], ),
    sa.ForeignKeyConstraint(['stationaryItemId'], ['stationaryItem.stationaryItemId'], ),
    sa.PrimaryKeyConstraint('invoiceId', 'stationaryItemId')
    )
    op.create_table('report',
    sa.Column('reportId', sa.Integer(), nullable=False),
    sa.Column('reportCode', sa.Enum('PRE_28', 'PRE_41', 'PRE_30_PD', 'PRE_30_ED', 'PRE_21', 'PRE_34_CO', 'PRE_34_I_RO', 'PRE_34_II_RO', 'PRE_34_RO', 'PRE_ALL_ISLAND_RESULTS_BY_ELECTORAL_DISTRICTS', 'PRE_ALL_ISLAND_RESULTS', 'OrganizationStructure', name='reportcodeenum'), nullable=False),
    sa.ForeignKeyConstraint(['reportId'], ['submission.submissionId'], ),
    sa.PrimaryKeyConstraint('reportId')
    )
    op.create_table('submissionVersion',
    sa.Column('submissionVersionId', sa.Integer(), nullable=False),
    sa.Column('submissionId', sa.Integer(), nullable=True),
    sa.ForeignKeyConstraint(['submissionId'], ['submission.submissionId'], ),
    sa.ForeignKeyConstraint(['submissionVersionId'], ['history_version.historyVersionId'], ),
    sa.PrimaryKeyConstraint('submissionVersionId')
    )
    op.create_table('tallySheet',
    sa.Column('tallySheetId', sa.Integer(), nullable=False),
    sa.Column('tallySheetCode', sa.Enum('CE_201', 'PRE_28', 'PRE_41', 'PRE_30_PD', 'PRE_30_ED', 'PRE_21', 'PRE_34_CO', 'PRE_34_I_RO', 'PRE_34_II_RO', 'PRE_34_RO', 'PRE_ALL_ISLAND_RESULTS_BY_ELECTORAL_DISTRICTS', 'PRE_ALL_ISLAND_RESULTS', name='tallysheetcodeenum'), nullable=False),
    sa.ForeignKeyConstraint(['tallySheetId'], ['submission.submissionId'], ),
    sa.PrimaryKeyConstraint('tallySheetId')
    )
    op.create_table('reportVersion',
    sa.Column('reportVersionId', sa.Integer(), nullable=False),
    sa.Column('reportVersionCode', sa.Enum('PRE_28', 'PRE_41', 'PRE_30_PD', 'PRE_30_ED', 'PRE_21', 'PRE_34_CO', 'PRE_34_I_RO', 'PRE_34_II_RO', 'PRE_34_RO', 'PRE_ALL_ISLAND_RESULTS_BY_ELECTORAL_DISTRICTS', 'PRE_ALL_ISLAND_RESULTS', 'OrganizationStructure', name='reportcodeenum'), nullable=False),
    sa.Column('reportFileId', sa.Integer(), nullable=False),
    sa.ForeignKeyConstraint(['reportFileId'], ['file.fileId'], ),
    sa.ForeignKeyConstraint(['reportVersionId'], ['submissionVersion.submissionVersionId'], ),
    sa.PrimaryKeyConstraint('reportVersionId')
    )
    op.create_table('tallySheetVersion',
    sa.Column('tallySheetVersionId', sa.Integer(), nullable=False),
    sa.Column('tallySheetVersionCode', sa.Enum('CE_201', 'PRE_28', 'PRE_41', 'PRE_30_PD', 'PRE_30_ED', 'PRE_21', 'PRE_34_CO', 'PRE_34_I_RO', 'PRE_34_II_RO', 'PRE_34_RO', 'PRE_ALL_ISLAND_RESULTS_BY_ELECTORAL_DISTRICTS', 'PRE_ALL_ISLAND_RESULTS', name='tallysheetcodeenum'), nullable=False),
    sa.ForeignKeyConstraint(['tallySheetVersionId'], ['submissionVersion.submissionVersionId'], ),
    sa.PrimaryKeyConstraint('tallySheetVersionId')
    )
    op.create_table('tallySheetVersionRow_CE_201',
    sa.Column('tallySheetVersionRowId', sa.Integer(), autoincrement=True, nullable=False),
    sa.Column('tallySheetVersionId', sa.Integer(), nullable=False),
    sa.Column('areaId', sa.Integer(), nullable=False),
    sa.Column('ballotsIssued', sa.Integer(), nullable=False),
    sa.Column('ballotsReceived', sa.Integer(), nullable=False),
    sa.Column('ballotsSpoilt', sa.Integer(), nullable=False),
    sa.Column('ballotsUnused', sa.Integer(), nullable=False),
    sa.Column('boxCountOrdinary', sa.Integer(), nullable=False),
    sa.Column('boxCountTendered', sa.Integer(), nullable=False),
    sa.Column('ballotPaperAccountOrdinary', sa.Integer(), nullable=False),
    sa.Column('ballotPaperAccountTendered', sa.Integer(), nullable=False),
    sa.ForeignKeyConstraint(['areaId'], ['area.areaId'], ),
    sa.ForeignKeyConstraint(['tallySheetVersionId'], ['tallySheetVersion.tallySheetVersionId'], ),
    sa.PrimaryKeyConstraint('tallySheetVersionRowId'),
    sa.UniqueConstraint('tallySheetVersionId', 'areaId', name='PollingStationPerBallotPaperAccount')
    )
    op.create_table('tallySheetVersionRow_PRE_41',
    sa.Column('tallySheetVersionRowId', sa.Integer(), autoincrement=True, nullable=False),
    sa.Column('tallySheetVersionId', sa.Integer(), nullable=False),
    sa.Column('candidateId', sa.Integer(), nullable=False),
    sa.Column('count', sa.Integer(), nullable=True),
    sa.Column('countInWords', sa.String(length=1000), nullable=True),
    sa.ForeignKeyConstraint(['candidateId'], ['candidate.candidateId'], ),
    sa.ForeignKeyConstraint(['tallySheetVersionId'], ['tallySheetVersion.tallySheetVersionId'], ),
    sa.PrimaryKeyConstraint('tallySheetVersionRowId', 'tallySheetVersionId', 'candidateId'),
    sa.UniqueConstraint('tallySheetVersionId', 'candidateId', name='CandidatePerPRE41')
    )
    op.create_table('tallySheetVersionRow_CE_201_ballotBox',
    sa.Column('tallySheetVersionRowId', sa.Integer(), nullable=False),
    sa.Column('ballotBoxStationaryItemId', sa.Integer(), nullable=False),
    sa.Column('invoiceStage', sa.Enum('Issued', 'Received', name='invoicestageenum'), nullable=False),
    sa.ForeignKeyConstraint(['ballotBoxStationaryItemId'], ['ballotBox.stationaryItemId'], ),
    sa.ForeignKeyConstraint(['tallySheetVersionRowId'], ['tallySheetVersionRow_CE_201.tallySheetVersionRowId'], ),
    sa.PrimaryKeyConstraint('tallySheetVersionRowId', 'ballotBoxStationaryItemId')
    )
    # ### end Alembic commands ###


def downgrade():
    # ### commands auto generated by Alembic - please adjust! ###
    op.drop_table('tallySheetVersionRow_CE_201_ballotBox')
    op.drop_table('tallySheetVersionRow_PRE_41')
    op.drop_table('tallySheetVersionRow_CE_201')
    op.drop_table('tallySheetVersion')
    op.drop_table('reportVersion')
    op.drop_table('tallySheet')
    op.drop_table('submissionVersion')
    op.drop_table('report')
    op.drop_table('invoice_stationaryItem')
    op.drop_table('submission')
    op.drop_table('invoice')
    op.drop_table('election_party')
    op.drop_table('election_candidate')
    op.drop_table('ballotBox')
    op.drop_table('ballot')
    op.drop_table('area_area')
    op.drop_table('stationaryItem')
    op.drop_table('proof')
    op.drop_table('party')
    op.drop_table('history_version')
    op.drop_table('folder_file')
    op.drop_table('candidate')
    op.drop_table('area')
    op.drop_table('history')
    op.drop_table('folder')
    op.drop_table('file')
    op.drop_table('election')
    # ### end Alembic commands ###
