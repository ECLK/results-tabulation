"""empty message

Revision ID: c552bd4a5cd2
Revises: c70e68791928
Create Date: 2019-10-09 10:30:41.098458

"""
from alembic import op
import sqlalchemy as sa
from sqlalchemy.dialects import mysql

# revision identifiers, used by Alembic.
revision = 'c552bd4a5cd2'
down_revision = 'c70e68791928'
branch_labels = None
depends_on = None


def upgrade():
    ### commands auto generated by Alembic - please adjust! ###
    op.create_table('stamp',
    sa.Column('stampId', sa.Integer(), nullable=False),
    sa.Column('ip', sa.String(length=100), nullable=False),
    sa.Column('createdBy', sa.String(length=100), nullable=False),
    sa.Column('createdAt', sa.DateTime(), nullable=False),
    sa.PrimaryKeyConstraint('stampId')
    )
    op.add_column('file', sa.Column('fileStampId', sa.Integer(), nullable=True))
    op.create_foreign_key(None, 'file', 'stamp', ['fileStampId'], ['stampId'])
    op.drop_column('file', 'fileCreatedBy')
    op.drop_column('file', 'fileCreatedAt')
    op.add_column('history_version', sa.Column('historyStampId', sa.Integer(), nullable=True))
    op.create_foreign_key(None, 'history_version', 'stamp', ['historyStampId'], ['stampId'])
    op.drop_column('history_version', 'createdBy')
    op.drop_column('history_version', 'createdAt')
    op.add_column('proof', sa.Column('proofStampId', sa.Integer(), nullable=True))
    op.create_foreign_key(None, 'proof', 'stamp', ['proofStampId'], ['stampId'])
    op.drop_column('proof', 'createdAt')
    ### end Alembic commands ###


def downgrade():
    ### commands auto generated by Alembic - please adjust! ###
    op.add_column('proof', sa.Column('createdAt', mysql.DATETIME(), nullable=True))
    op.drop_constraint(None, 'proof', type_='foreignkey')
    op.drop_column('proof', 'proofStampId')
    op.add_column('history_version', sa.Column('createdAt', mysql.DATETIME(), nullable=False))
    op.add_column('history_version', sa.Column('createdBy', mysql.INTEGER(display_width=11), autoincrement=False, nullable=False))
    op.drop_constraint(None, 'history_version', type_='foreignkey')
    op.drop_column('history_version', 'historyStampId')
    op.add_column('file', sa.Column('fileCreatedAt', mysql.DATETIME(), nullable=False))
    op.add_column('file', sa.Column('fileCreatedBy', mysql.INTEGER(display_width=11), autoincrement=False, nullable=False))
    op.drop_constraint(None, 'file', type_='foreignkey')
    op.drop_column('file', 'fileStampId')
    op.drop_table('stamp')
    ### end Alembic commands ###
